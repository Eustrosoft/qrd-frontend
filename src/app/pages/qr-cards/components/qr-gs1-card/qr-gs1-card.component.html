<card-container [hideHeading]="true">
  <ng-container content>
    <ui-grid-block rowGapSize="8" gridTemplateColumns="1fr">
      <ui-grid-block rowGapSize="4" [gridTemplateColumns]="gridTemplateColumns()">
        <card-field caption="GTIN:">
          {{ gs1().gtin | fallback: SharedLocalization.noName }}
        </card-field>
        @if (gs1().comment) {
          <card-field [caption]="`${SharedLocalization.description}:`">
            {{ gs1().comment }}
          </card-field>
        }
      </ui-grid-block>
      <card-field [caption]="`${SharedLocalization.cardPreview}:`">
        <ui-flex-block gapSize="2" flexAlignItems="center">
          @let digitalLink = gs1().gtin | gs1GtinLink: gs1().key : gs1().value : gs1().tail;
          <a [href]="digitalLink" target="_blank" rel="noopener noreferrer" class="primary-color" interactionEffect>
            {{ digitalLink }}
          </a>
          <copy-button [copyValue]="digitalLink" />
        </ui-flex-block>
      </card-field>
      <ui-flex-block flexAlignItems="center">
        <a
          [routerLink]="`/${AppRoutes.gs1}/${gs1().id}/${AppRoutes.edit}`"
          [queryParams]="{ qrId: gs1().qrId }"
          [matTooltip]="SharedLocalization.edit"
          class="icon-button-sm"
          mat-icon-button
        >
          <mat-icon class="icon-primary">edit</mat-icon>
        </a>
        @if (!isDeleting()) {
          <button
            (click)="onRemove.emit()"
            [matTooltip]="SharedLocalization.delete"
            class="icon-button-sm"
            mat-icon-button
          >
            <mat-icon class="icon-primary">delete</mat-icon>
          </button>
        } @else {
          <button class="icon-button-sm" mat-icon-button>
            <mat-spinner diameter="24" />
          </button>
        }
        <a
          [href]="printUrl()"
          target="_blank"
          rel="noopener noreferrer"
          [matTooltip]="SharedLocalization.print"
          class="icon-button-sm"
          mat-icon-button
        >
          <mat-icon class="icon-primary">print</mat-icon>
        </a>
        @if (isNavigating()) {
          <a class="icon-button-sm" mat-icon-button>
            <mat-spinner diameter="24" />
          </a>
        }
      </ui-flex-block>
    </ui-grid-block>
  </ng-container>
</card-container>
