<ui-grid-block [gridTemplateColumns]="isSmallScreen() ? '1fr' : '1fr auto'">
  <ui-flex-block gapSize="8" flexAlignItems="center">
    <mat-form-field class="form-field-md search-bar">
      <input
        [value]="searchValue()"
        (input)="searchValueChange.emit(searchInput.value)"
        (keydown.enter)="searchClicked.emit()"
        [placeholder]="SharedLocalization.search"
        #searchInput="matInput"
        matInput
      />
      @if (!isSmallScreen()) {
        <button
          (click)="searchInput.value = ''; searchValueChange.emit('')"
          [toggleVisibility]="!!searchInput.value"
          matSuffix
          class="icon-button-sm"
          mat-icon-button
          [attr.aria-label]="SharedLocalization.clearSearchString"
        >
          <mat-icon class="icon-primary">clear</mat-icon>
        </button>
      }
      <button
        (click)="searchClicked.emit()"
        matSuffix
        class="icon-button-sm"
        mat-icon-button
        [attr.aria-label]="SharedLocalization.performSearch"
      >
        <mat-icon class="icon-primary">search</mat-icon>
      </button>
    </mat-form-field>
    @if (!isSmallScreen()) {
      <button
        (click)="advancedSearchClicked.emit()"
        class="fab-md fab-secondary"
        mat-fab
        [attr.aria-label]="SharedLocalization.openAdvancedSearch"
      >
        <mat-icon class="icon-on-secondary">manage_search</mat-icon>
      </button>
    }
    <ng-content select="[view-settings]" />
  </ui-flex-block>
  <ui-flex-block gapSize="8" flexJustifyContent="flex-end" flexAlignItems="center">
    @if (isSmallScreen()) {
      <button
        (click)="advancedSearchClicked.emit()"
        class="fab-md fab-secondary"
        mat-fab
        [attr.aria-label]="SharedLocalization.openAdvancedSearch"
      >
        <mat-icon class="icon-on-secondary">manage_search</mat-icon>
      </button>
    }
    <nav mat-tab-nav-bar [tabPanel]="tabPanel" class="tab-nav-bar">
      <a
        routerLink="list"
        [relativeTo]="activatedRoute"
        [active]="list.isActive"
        #list="routerLinkActive"
        routerLinkActive
        mat-tab-link
      >
        <ui-flex-block gapSize="4" flexAlignItems="center" flexDisplay="inline-flex">
          <mat-icon class="icon-primary">menu</mat-icon>
          <p>{{ SharedLocalization.list }}</p>
        </ui-flex-block>
      </a>
      <a
        routerLink="table"
        [relativeTo]="activatedRoute"
        [active]="table.isActive"
        #table="routerLinkActive"
        routerLinkActive
        mat-tab-link
      >
        <ui-flex-block gapSize="4" flexAlignItems="center" flexDisplay="inline-flex">
          <p>{{ SharedLocalization.table }}</p>
          <mat-icon class="icon-primary">table</mat-icon>
        </ui-flex-block>
      </a>
    </nav>
  </ui-flex-block>
</ui-grid-block>
<mat-tab-nav-panel #tabPanel>
  <ng-content />
</mat-tab-nav-panel>
