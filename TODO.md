# TODO

## 15.12.2025

- [ ] Убрать обязательность GTIN
- [ ] Уведомление об ошибках в GTIN перед созданием/сохранением
- [ ] Убрать encodeURIComponent для `tail` в GS1

## 08.12.2025

- [x] Генератор случайного pin2 - случайные цифры и латинские символы любого регистра от 12 до 16 символов
- [x] Если pin2 md5 меняли - выдавать предупреждение, что точно хотите менять md5?

## 01.12.2025

- [x] Добавить отображение ссылки в редактировании GS1 в формате `{site}/01/{gtin}[/{key}/{value}][/{tail}]`
- [x] Добавить формирование qr кода для GS1 в формате `{site}/01/{gtin}[/{key}/{value}][/{tail}]`
- [x] Добавить возможность скопировать ссылку из карточки GS1 в формате `{site}/01/{gtin}[/{key}/{value}][/{tail}]`
- [x] Добавить кнопку возврата в старое приложение на экране логина
- [x] Изменить валидацию GS1. key и value - необязательные

## 24.11.2025

- [x] Сделать удаление GS1

## 10.11.2025

- [x] Сделать формы создания/редактирования PIN
- [x] Новые табы в просмотре карточки, отдельные компоненты создания / редактирования PIN
- [x] Добавить поиск по всем имеющимся полям, в том числе по hex коду
- [x] Добавить фильтр по диапазонам
- [x] Проверять есть ли уже загруженный файл в карточке и шаблоне по имени при добавлении файла, чтобы файлы не дублировались
- [x] Сделать формы создания/редактирования GS1
- [x] Добавить валидацию на контрольную сумму GTIN и валидации для key, value (только латинские символы любого регистра и цифры). Валидации должны носить рекомендательный характер
- [x] Новые табы в просмотре карточки, отдельные компоненты создания / редактирования GS1

## 06.10.2025

- [x] первичное авто определение языка, сохранение выбора в Local Storage
- [x] в поле "Предпросмотр карточки" положить ссылку {qrUri}?q=... из конфигурации, добавить кнопку "скопировать"
- [x] при просмотре шаблона перенести атрибуты на первую страницу, сделать списки атрибутов и файлов аналогично QR карточкам
- [x] сделать отдельный блок в настройках для конфигурации режима отображения сущностей
- [x] выбранный режим отображения списка карточек, шаблонов и файлов (таблица/список) сохранять в Local Storage
- [x] сделать табличное представление редактирования атрибутов в шаблоне, списочный вариант сохранить, давать пользователям выбор в каком виде отображать данные
- [x] провести рефакторинг кода всех state, используя `Selector Utils`, по аналогии с `app.state.ts`

## 29.09.2025

- [x] Внедрить br и gzip сжатие при сборке
- [x] Сделать динамическую конфигурацию baseHref
- [x] Добавить описание процесса сборки

## 22.09.2025

- [x] Добавить подсказки для заголовка / подвала печатной формы QR
- [x] Добавить кнопку печати QR карточки в просмотре QR карточки
- [ ] Добавить код карточки в usages в шаблонах
- [x] Добавить кнопку для перехода на создание QR карточки в просмотре шаблона с подстановкой шаблона

## 15.09.2025

- [x] Сделать title динамическим
- [x] В footer не выделяются ссылки
- [x] Добавить ссылки на регистрацию и восстановление пароля в конфиг
- [x] На choose передавать id в url вместо code
- [x] Продублировать навигацию в левое sidenav меню
- [x] Сделать layout-config.json

## 01.09.2025

- [x] Сделать config.json
- [x] При изменении файлов в карточках и в шаблоне перетираются не сохраненные поля (как заработает choose)
- [x] Доделать вкладку "Использования" везде, как появится API
- [x] Изучить возможности iframe. Можно ли менять GET на POST, пробрасывать своё содержимое
- [x] Сделать возможность конфигурировать колонки таблицы QR любыми полями
- [x] Увеличить размер шрифта для label
- [x] Добавить значок `i` к полям
- [x] Пометить, если смотрят превью карточки с несохраненными данными в sidenav
- [x] Показывать поля, которых нет в шаблоне в просмотре и редактировании
- [x] Когда у поля нет имени - показывать значение name (fn)

## Previous

- [ ] Перезагрузка "тела" файла, как появится API
- [ ] Отображать null | undefined в значениях атрибутов карточки (позже)
- [ ] Добавить возможность скопировать шаблон, как появится API
- [ ] Решить вопрос, чтобы не предлагало переводить страницу (воспроизводится в firefox)
- [x] Разделить файлы из шаблона и карточки в редактировании карточки (файлы из шаблона нельзя редактировать)
- [x] При замене шаблона в редактировании карточки надо обновлять поля
- [x] Сделать ссылку на qr.qxyz.ru в меню в списке qr карточек
- [x] В просмотре файла имя или оригинальное имя оформить как ссылку на download в новом окне
- [x] В редактировании файла, справа от кнопки назад - выводить имя файла
- [x] Сделать кнопку "Создать шаблон по умолчанию"
- [x] Разделить создание и редактирование шаблонов
- [x] У static полей в карточке, в режиме просмотра, если нет значения - показывать то, что в placeholder
- [x] При редактировании карточки запрашивать карточку заново
- [x] При заполнении дат, даты отправляются неверно, отправляется вчера
- [x] Некоторые файлы невозможно скачать, возможно, проблема в недопустимом символе (не эскейпированом)
- [x] Сделать табличное отображение для шаблонов
- [x] Сделать табличное отображение для списка карточек
- [x] Сделать табличное отображение для списка файлов
- [x] Сделать страницу с настройками
- [x] Сделать textarea во всю ширину в редактировании
- [x] Сделать параметр со ссылкой на просмотр карточки
- [x] Продублировать настройку таблицы в настройки
- [x] При смене шаблона сделать confirm - что если произойдет сохранение и все поменяется
- [x] Старое приложение - /lk
- [x] Убрать qr картинку из столбцов по умолчанию
- [x] Сделать меню для моб. версии интерактивным
